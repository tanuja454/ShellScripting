Write a script using while loop to monitor a service and restart it if it’s down.


#!/bin/bash

# Name of the service to monitor
SERVICE="nginx"

# Interval in seconds between checks
INTERVAL=10

echo "Monitoring $SERVICE service..."

while true
do
    # Check if the service is active
    if systemctl is-active --quiet $SERVICE
    then
        echo "$(date): $SERVICE is running."
    else
        echo "$(date): $SERVICE is down! Restarting..."
        systemctl restart $SERVICE

        # Check if restart was successful
        if systemctl is-active --quiet $SERVICE
        then
            echo "$(date): $SERVICE restarted successfully."
        else
            echo "$(date): Failed to restart $SERVICE!"
        fi
    fi

    # Wait for the next check
    sleep $INTERVAL
done
============================================================================================================================================================================================================



Step-by-Step Explanation

SERVICE="nginx" → Specify which service to monitor.

while true → Infinite loop, keeps checking continuously.

systemctl is-active --quiet $SERVICE → Checks if the service is running.

If running → prints status.

If down → attempts to restart the service and prints success/failure.

sleep $INTERVAL → Waits 10 seconds before the next check.
